<!DOCTYPE html>
<html lang="en">
<head>
  	  <!-- meta: utf-8 + mobile scaling -->
	  <meta charset="utf-8" />
	  <meta name="viewport" content="width=device-width,initial-scale=1" />
	  <title>Sip Happens — Home</title>
	  <!-- one small stylesheet -->
	  <link rel="stylesheet" href="./css/style.css" />
	  <link rel="icon" href="./images/favicon.png" />
  <style>
    body { font-family: Arial; background:#fafafa; margin:0; padding:20px; }
    h1,h2 { text-align:center; }
    table { width:90%; margin:20px auto; border-collapse:collapse; }
    th,td { border:1px solid #ccc; padding:10px; text-align:center; }
    th { background:#eee; }
    img { width:50px; height:50px; object-fit:cover; }
    .form-box {
      background:white; max-width:500px;
      margin:20px auto; padding:20px;
      border:1px solid #ccc; border-radius:6px;
    }
    input,textarea,select {
      width:100%; padding:10px; margin:10px 0; box-sizing:border-box;
    }
    button {
      width:100%; padding:12px; background:blue;
      color:white; border:none; cursor:pointer;
    }
    button:hover { background:darkblue; }
	
table {
	  width:auto; margin:20px auto; border-collapse:separate;
	  border-spacing:0; border-radius:8px; overflow:hidden;
	  box-shadow:0 2px 5px rgba(0,0,0,0.1);
	}
	th,td {
	  padding:12px; text-align:center;
	}
	th {
	  background:#333; color:white;
	}
	tr:nth-child(even){ background:#f9f9f9; }
	tr:hover { background:#f1f1f1; }
	img {
	  width:60px; height:60px; object-fit:cover; border-radius:6px;
	}
  </style>
</head>
<body>
 <!-- keyboard shortcut to skip nav -->
  <a class="skip-link" href="#main">Skip to main content</a>

  <!-- shared header/nav (identical on every page) -->
  <header class="header">
    <div class="container">
      <nav class="nav" aria-label="Primary">
        <a class="logo" href="index.html" style="font-weight:800">Sip Happens</a>
        <div class="nav-links">
          <a href="index.html">Home</a>
		  <a href="Login.html">Login</a>
		  <a href="Cart.html">Cart(<span id="cartCount">0</span>)</a>
		  <a href="Admin.html">Admin</a>
        </div>
	  </nav>
    </div>
  </header>
  <h1>Checkout</h1>

  <h2>Order Summary</h2>
  <table id="cartTable">
    <tr><th>Image</th><th>Item</th><th>Qty</th><th>Price</th><th>Total</th></tr>
  </table>
  <h2 id="grandTotal"></h2>

  <div class="form-box">
    <h2>Shipping & Payment</h2>
    <form id="checkoutForm">
      <input type="text" id="name" placeholder="Full Name" required>
      <input type="email" id="email" placeholder="Email" required>
      <input type="tel" id="phone" placeholder="Phone" required>
      <textarea id="address" placeholder="Street Address" required></textarea>
      <input type="text" id="city" placeholder="City" required>
      <input type="text" id="zip" placeholder="ZIP / Postal Code" required>
      <input type="text" id="country" placeholder="Country" required>
      <select id="payment" required>
        <option value="">Select Payment Method</option>
        <option>Credit Card</option>
        <option>PayPal</option>
        <option>Bank Transfer</option>
      </select>
      <button type="submit">Confirm Order</button>
    </form>
    <p id="msg" style="color:green;"></p>
  </div>

 <!-- shared footer (identical on every page) -->
 <footer class="footer">
    <div class="container" style="text-align:center">
      © <span id="year"></span> Sip Happens • <a href="terms.html">Terms</a> • <a href="shipping.html">Shipping</a> • <a href="policy.html">Privacy</a>
    </div>
  </footer>	

  <script>
    function getProducts(){
      let stored=JSON.parse(localStorage.getItem("products")||"[]");
      if(stored.length>0) return stored;
      return [
        { name:"Melon Drama", price:18.99, img:"./images/tumbler_1.png" },
        { name:"Berry Scary", price:20.50, img:"./images/tumbler_2.png" },
        { name:"Peach Please", price:19.75, img:"./images/tumbler_3.png" },
        { name:"Cherry On Top", price:21.00, img:"./images/tumbler_4.png" },
        { name:"Blue-licious", price:22.25, img:"./images/tumbler_5.png" },
        { name:"Grape Escape", price:20.99, img:"./images/tumbler_6.png" }
      ];
    }

    let cart=JSON.parse(localStorage.getItem("cart")||"[]");
    const products=getProducts();
    const table=document.getElementById("cartTable");
    let grand=0;
    cart.forEach(item=>{
      const p=products.find(prod=>prod.name===item.name);
      const price=p?p.price:item.price;
      const img=p?p.img:item.img;
      let total=item.qty*price;
      grand+=total;
      table.innerHTML+=`<tr>
        <td><img src="${img}" alt="${item.name}"></td>
        <td>${item.name}</td><td>${item.qty}</td>
        <td>$${price.toFixed(2)}</td><td>$${total.toFixed(2)}</td>
      </tr>`;
    });
    document.getElementById("grandTotal").textContent="Grand Total: $"+grand.toFixed(2);

    const form=document.getElementById("checkoutForm");
    form.addEventListener("submit",function(e){
      e.preventDefault();
      if(cart.length===0){ alert("Cart is empty!"); return; }
      const name=document.getElementById("name").value;
      localStorage.removeItem("cart");
      document.getElementById("msg").textContent="Thank you "+name+"! Your order has been placed.";
      form.reset();
    });
  </script>
</body>
</html>
